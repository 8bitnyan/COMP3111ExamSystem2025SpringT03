<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.SplitPane?>
<?import javafx.scene.chart.BarChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.NumberAxis?>

<?import javafx.scene.chart.LineChart?>
<VBox fx:id="mainbox" alignment="TOP_CENTER" maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="600" prefWidth="600" spacing="10.0" styleClass="root" stylesheets="@../../../../../../Lab5TeamRepoG02/src/main/resources/comp3111/examsystem/style.css" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="comp3111.examsystem.controller.TeacherGradeStatisticController">
    <HBox spacing="10" alignment="CENTER">
        <Label text="Course:" styleClass="header-label"/>
        <ComboBox fx:id="courseCmb" />
        <Label text="Exam:" styleClass="header-label"/>
        <ComboBox fx:id="examCmb" />
        <Label text="Student:" styleClass="header-label"/>
        <ComboBox fx:id="studentCmb" />
        <Button mnemonicParsing="false" onAction="#handleReset" text="Reset" styleClass="login-button"/>
        <Button mnemonicParsing="false" onAction="#handleFilter" text="Filter" styleClass="login-button"/>
    </HBox>

    <SplitPane dividerPositions="0.5">
        <TableView fx:id="recordTable" styleClass="table">
            <columns>
                <TableColumn text="Student" fx:id="colStudent"/>
                <TableColumn text="Course" fx:id="colCourse"/>
                <TableColumn text="Exam" fx:id="colExam"/>
                <TableColumn text="Score" fx:id="colScore"/>
                <TableColumn text="Max Score" fx:id="colMaxScore"/>
                <TableColumn text="Time Spent" fx:id="colTimeSpent"/>
            </columns>
        </TableView>
        <VBox spacing="10">
            <BarChart fx:id="barChart">
                <xAxis>
                    <CategoryAxis label="Course" />
                </xAxis>
                <yAxis>
                    <NumberAxis label="Avg. Score Percentage" />
                </yAxis>
            </BarChart>
            <LineChart fx:id="lineChart">
                <xAxis>
                    <CategoryAxis label="Exam" />
                </xAxis>
                <yAxis>
                    <NumberAxis label="Avg. Score Percentage" />
                </yAxis>
            </LineChart>
        </VBox>
    </SplitPane>

    <HBox spacing="10" alignment="CENTER">
        <Button onAction="#handleBack" text="Back" styleClass="login-button"/>
        <Button onAction="#handleCloseApplication" text="Close Application" styleClass="login-button"/>
    </HBox>
</VBox>